import usePost from '../../hooks/usePost';

export const frontMatter = {
    slug: '/posts/three-ways-to-remove-array-duplicates',
    title: 'æ•°ç»„å»é‡çš„ä¸‰ç§æ–¹å¼',
    subTitle: 'ä½¿ç”¨ Setï¼ŒArray.filterï¼ŒArray.reduce ä¸‰ç§æ–¹å¼å¯¹æ•°ç»„è¿›è¡Œç®€å•å¿«æ·çš„å»é‡ã€‚',
    tags: ['javascript'],
    createdAt: '2019/03/12',
    updatedAt: '2019/03/12',
    thumb:
        'https://res.cloudinary.com/stackbunch/image/upload/w_540,q_auto,c_fill/v1572535167/blog-thumb/three-ways-to-remove-array-duplicates_ez2ujr.png',
    published: true,
};

export default usePost(frontMatter);

# æ•°ç»„å»é‡çš„ä¸‰ç§æ–¹å¼

å…ˆå±•ç¤ºä¸‹è¿™ä¸‰ç§æ–¹å¼ï¼Œä¸‹é¢å†å¯¹å®ƒä»¬è¿›è¡Œè¯¦ç»†çš„è§£é‡Šã€‚

```js
const array = ['ğŸ§', 1, 2, 'ğŸ§', 'ğŸ§', 3];

// 1.Set
[...new Set(array)];

// 2.filter
array.filter((o, index) => array.indexOf(o) === index);

// 3.reduce
array.reduce((result, current) => {
    return result.indexOf(current) < 0 ? result.concat([current]) : result;
}, []);

// ['ğŸ§', 1, 2, 3]
```

## 1.ä½¿ç”¨ Set

å…ˆè§£é‡Šä¸€ä¸‹ä»€ä¹ˆæ˜¯ Set

> Set æ˜¯ ES6 æ–°å¢çš„ä¸€ç§æ•°æ®å¯¹è±¡ï¼Œåªå…è®¸ä¿å­˜å”¯ä¸€å˜é‡ï¼Œå½“ä½ å°†å®ƒä¼ å…¥ä¸€ä¸ªæ•°ç»„æ—¶ï¼Œå®ƒä¼šç§»é™¤æ‰€æœ‰é‡å¤çš„å˜é‡ã€‚

ä½¿ç”¨ Set å»é™¤é‡å¤å˜é‡åˆ†ä¸ºä¸¤æ­¥

1. é¦–å…ˆåˆ›å»ºä¸€ä¸ª Set ï¼Œå¹¶ä¼ å…¥ä¸€ä¸ªæ•°ç»„ï¼Œç”±äº Set åªå…è®¸å”¯ä¸€å˜é‡ï¼Œæ‰€æœ‰çš„é‡å¤é¡¹éƒ½ä¼šè¢«ç§»é™¤ã€‚
2. ç°åœ¨æ‰€æœ‰é‡å¤æ€§éƒ½è¢«ç§»é™¤äº†ï¼Œæ¥ç€ä½¿ç”¨å±•å¼€è¿ç®—ç¬¦ã€`...`ã€‘å°† Set è½¬æ¢ä¼šæ•°ç»„ã€‚

```js
const array = ['ğŸ§', 1, 2, 'ğŸ§', 'ğŸ§', 3];

// ç¬¬ä¸€æ­¥
const uniqueSet = new Set(array);
// Set { 'ğŸ§', 1, 2, 3 }

// ç¬¬äºŒæ­¥
const backToArray = [...uniqueSet];
// ['ğŸ§', 1, 2, 3]
```

## 2.ä½¿ç”¨ filter

ä½¿ç”¨ filter å‰ï¼Œå…ˆäº†è§£ä¸‹ `indexOf` å’Œ `filter` è¿™ä¸¤ä¸ªæ–¹æ³•ã€‚

### indexOf

indexOf æ–¹æ³•ä¼šæ ¹æ®æ‰€æä¾›çš„å…ƒç´ è¿”å›æ•°ç»„ä¸­ç¬¬ä¸€ä¸ªè¢«æ‰¾åˆ°çš„ç›¸åŒå…ƒç´ çš„ä¸‹æ ‡

```js
const array = ['ğŸ§', 1, 2, 'ğŸ§', 'ğŸ§', 3];

array.indexOf('ğŸ§'); // 0
array.indexOf(1); // 1
array.indexOf(2); // 2
array.indexOf(3); // 5
```

### filter

`filter` æ–¹æ³•ä¼šæ ¹æ®æˆ‘ä»¬ç»™å®šçš„æ¡ä»¶è¿”å›ä¸€ä¸ªæ–°çš„æ•°ç»„ã€‚æ¢å¥è¯è¯´å°±æ˜¯ï¼Œå¦‚æœå…ƒç´ é€šè¿‡
æ¡ä»¶è¿”å› `true`ï¼Œå®ƒå°±ä¼šè¢«åŒ…å«åœ¨è¿‡æ»¤åçš„æ•°ç»„ä¸­ï¼Œè¿”å› `false` å°±ä¸ä¼šåŒ…å«åœ¨æ–°çš„
æ•°ç»„ä¸­ã€‚

### è¿‡æ»¤é‡å¤é¡¹

æˆ‘ä»¬å¯ä»¥é€šè¿‡ `filter` æ–¹æ³•æ£€ç´¢é‡å¤é¡¹å¹¶å‰”é™¤å®ƒä»¬ï¼Œåªéœ€è¦å°†è¿‡æ»¤æ¡ä»¶è®¾ç½®ä¸ºï¼š

```js
const array = ['ğŸ§', 1, 2, 'ğŸ§', 'ğŸ§', 3];

array.filter((o, index) => array.indexOf(o) === index);
// ['ğŸ§', 1, 2, 3]
```

## 3.ä½¿ç”¨ reduce

`reduce` æ–¹æ³•ä¼šæ ¹æ®ä¼ å…¥çš„ `reducer` å‡½æ•°é‡ç»„æ•°ç»„å†…çš„å…ƒç´ ã€‚

ä¸ºäº†è¾¾åˆ°æˆ‘ä»¬çš„ç›®æ ‡ï¼Œæˆ‘ä»¬çš„ `reducer` å‡½æ•°éœ€è¦æ£€æŸ¥æœ€ç»ˆçš„æ•°ç»„ä¸­æ˜¯å¦å·²ç»åŒ…å«äº†å½“å‰å…ƒç´ ï¼Œå¦‚æœæ²¡æœ‰å°±åŠ å…¥ï¼Œ
å¦åˆ™è·³è¿‡å½“å‰å…ƒç´ ã€‚

```js
const array = ['ğŸ§', 1, 2, 'ğŸ§', 'ğŸ§', 3];

array.reduce((result, current) => {
    return result.indexOf(current) < 0 ? result.concat([current]) : result;
}, []);
// 1.['ğŸ§']
// 2.['ğŸ§', 1]
// 3.['ğŸ§', 1, 2]
// 4.['ğŸ§', 1, 2]
// 5.['ğŸ§', 1, 2]
// 6.['ğŸ§', 1, 2, 3]
```

ä»æ‰§è¡Œçš„å…­æ¬¡è¿”å›çš„ç»“æœæ¥çœ‹ï¼Œå¹¶ä¸éš¾ç†è§£ `reduce` çš„å®ç°æ–¹å¼ã€‚

## è¡¥å……è¯´æ˜

æ–‡ç« å†…å®¹åŸºæœ¬æ¥æºäº [How to Remove Array Duplicates in ES6](https://medium.com/dailyjs/how-to-remove-array-duplicates-in-es6-5daa8789641c)
